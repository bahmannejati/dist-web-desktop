{"version":3,"file":"Lazy.js","sources":["webpack://vertical1/./src/DeepLazy/index.js","webpack://vertical1/./src/Lazy/Lazy.js","webpack://vertical1/./src/DeepLazy/DeepLazy.style.desktop.scss"],"sourcesContent":["var importedWrapper = require('react-imported-component/wrapper');\n\nimport React, { useEffect, useState, useRef } from 'react'; // its better to import the styles before at the top!\n// even better to import them inside the lazy loader\n// file (like this file, instead of `src/DeepLazy/DeepLazy.desktop.jsx`)\n\nimport './DeepLazy.style';\nconst lazy = {\n  // we can use the same `webpackChunkName` for multiple `import()`s\n  // that's ok to combine some chunks together, for example `webpackChunkName: \"Lazy\"`\n  // is ok too without conflict by `src/Lazy/index.js`\n  load: () => importedWrapper(\"imported_-9n56ua_component\", import(\n  /* webpackChunkName: \"DeepLazy\" */\n  './DeepLazy')),\n  id: require.resolveWeak('./DeepLazy'),\n  chunkName: 'DeepLazy'\n};\nconst isSSR = typeof window === 'undefined';\n\nfunction getModuleID(id) {\n  return `vertical1:${id}`;\n}\n\nlet CSRComponentAfterHydrate = null;\n\nif (!isSSR) {\n  lazy.load().then(module => {\n    CSRComponentAfterHydrate = module.default;\n\n    window.__receiveVerticalMarkSignal(getModuleID(lazy.id));\n  });\n}\n\nconsole.log('how many times, deep lazy module added?');\nexport default function Comp() {\n  const [loading, setLoading] = useState(true);\n  const module = useRef();\n  useEffect(() => {\n    lazy.load().then(m => {\n      module.current = m;\n      setLoading(false);\n    });\n  }, []);\n\n  if (isSSR) {\n    global.__ADD_VERTICAL_REQUIRED_MARK(getModuleID(lazy.id), lazy.chunkName, lazy.id);\n\n    const Component = __webpack_require__(lazy.id).default;\n\n    return /*#__PURE__*/React.createElement(Component, null);\n  }\n\n  if (CSRComponentAfterHydrate) {\n    return /*#__PURE__*/React.createElement(CSRComponentAfterHydrate, null);\n  }\n\n  if (!loading) {\n    const CSRComponent = module.current.default;\n    return /*#__PURE__*/React.createElement(CSRComponent, null);\n  }\n\n  return /*#__PURE__*/React.createElement(\"p\", null, \"loading deep module!\");\n}","import React from 'react';\nimport DeepLazy from '../DeepLazy';\n\nfunction Lazy() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"strong\", null, \"hoooooora lazy component v2\"), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(DeepLazy, null));\n}\n\nexport default Lazy;","// extracted by mini-css-extract-plugin\nexport {};"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;ACRA;AACA;AACA;A;;A","sourceRoot":""}